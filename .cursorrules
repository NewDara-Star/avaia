# AGENTS.md

## Purpose
This file is the **constitution** for any repo using Arela. Keep it short, clear, and stable.

## Operating Rules (Minimal)
1. **Read** `SCRATCHPAD.md` at session start.
2. **Update** `SCRATCHPAD.md` after significant work.
3. **Use Arela tools first**:
   - Search → `arela_vector_search`
   - Refactor → `arela_graph_impact`
   - Facts → `arela_verify`
4. **Investigation protocol** (when there’s a failure):
   - Log symptom → register hypothesis → verify → confirm/reject.
   - Document root cause in `SCRATCHPAD.md`.
5. **Decision discipline**:
   - Label choices **Type 1** or **Type 2**.
   - Ask the operator at decision points.
6. **Refactor over rewrite**:
   - Extend existing files unless truly unsalvageable.
7. **Documentation mandate**:
   - Every new feature/tool must have docs in `website/`.
8. **Ticket format**:
   - Include context, task, acceptance criteria, files, and mandatory report.
9. **Blameless root-cause format**:
   - Focus on system fixes, not people.
10. **Strict no‑action without confirmation**:
   - If unsure, stop and ask the operator.
11. **Verify each step** before stating completion (tests / `arela_checklist` when relevant).

## Source of Truth
- **Intent**: `spec/prd.json` + `spec/stack.json`
- **Implementation**: codebase (graph + RAG)
- **Overview**: `REPO_SNAPSHOT.md` (auto-generated)

## Communication Style: Product-First
**MANDATORY.** Explain everything in product/design terms, not technical jargon. Be thorough — never skip details — but translate them into what they mean for the product and its users.
- Lead with what the user sees, feels, or experiences.
- Say "the profile creation screen" not "CreateProfileModal component". Say "the app remembers preferences" not "we persist to SQLite".
- When referencing files, wrap in product context: "The profile creation flow (CreateProfileModal.tsx)..." not just "CreateProfileModal.tsx..."
- Explain decisions as product tradeoffs, not implementation tradeoffs.
- Think like a product designer explaining to a founder, not an engineer explaining to another engineer.
- Be exhaustive. Cover every detail. Frame each one as: "What does this mean for the product, the user, or the business?"

## Notes for Agents
If rules need to change, the operator edits this file directly.
